library(igraph)
library(ggplot2)
g = read.graph("D:/Dropbox/MSBA/NetworkAnalytics/data/graph_subset.txt", format = "ncol", directed = TRUE)
tkplot(g, vertex.size = 5,
vertex.color="#5BA5F5",
vertex.label = NA,
vertex.frame.color= "white",
vertex.label.color = "white",
vertex.label.family = "sans",
edge.color="black",
layout = layout.kamada.kawai, canvas.width = 610, canvas.height = 610)
plog(g)
plot(g)
plot(g, layout = layout.kamada.kawai, vertex.label = NA,
vertex.size = 5)
tkplot(g, vertex.size = 5,
vertex.color="#5BA5F5",
vertex.label = NA,
vertex.frame.color= "black",
vertex.label.color = "white",
vertex.label.family = "sans",
edge.color="black",
layout = layout.kamada.kawai, canvas.width = 610, canvas.height = 610)
tkplot(g, vertex.size = 5,
vertex.color="#5BA5F5",
vertex.label = NA,
vertex.frame.color= "black",
vertex.label.color = "gray",
vertex.label.family = "sans",
edge.color="black",
layout = layout.kamada.kawai, canvas.width = 610, canvas.height = 610)
tkplot(g, vertex.size = 5,
vertex.color="#5BA5F5",
vertex.label = NA,
vertex.frame.color= "gray",
vertex.label.color = "white",
vertex.label.family = "sans",
edge.color="black",
layout = layout.kamada.kawai, canvas.width = 610, canvas.height = 610)
tkplot(g, vertex.size = 5,
vertex.color="#5BA5F5",
vertex.label = NA,
vertex.frame.color= "gray",
vertex.label.color = "white",
vertex.label.family = "sans",
layout = layout.kamada.kawai, canvas.width = 610, canvas.height = 610)
tkplot(g, vertex.size = 5,
vertex.color="#5BA5F5",
vertex.label = NA,
vertex.frame.color= "black",
vertex.label.color = "white",
vertex.label.family = "sans",
layout = layout.kamada.kawai, canvas.width = 610, canvas.height = 610)
g = read.graph("D:/Dropbox/MSBA/NetworkAnalytics/data/graph_subset.txt", format = "ncol", directed = TRUE)
tkplot(g, vertex.size = 5,
vertex.label = NA,
layout = layout.kamada.kawai, canvas.width = 610, canvas.height = 610)
g = read.graph("D:/Dropbox/MSBA/NetworkAnalytics/data/graph_subset.txt", format = "ncol", directed = TRUE)
tkplot(g, vertex.size = 5,
vertex.color="#5BA5F5",
vertex.label = NA,
vertex.frame.color= "black",
vertex.label.color = "white",
vertex.label.family = "sans",
layout = layout.kamada.kawai, canvas.width = 610, canvas.height = 610)
graph = read.graph("D:/Dropbox/MSBA/NetworkAnalytics/data/graph_complete.txt", format = "ncol", directed = TRUE)
## wrong method here
edgeEnds = data.frame(ends(graph,E(graph)))
names(edgeEnds) = c("from", "to")
table(edgeEnds$to)
table(edgeEnds$to)[1:30]
table(table(edgeEnds$to))
edgeEndsDist = table(table(edgeEnds$to))
edgeEndsDistDf = as.data.frame(edgeEndsDist)
View(edgeEndsDistDf)
names(edgeEndsDistDf) = c("num_follower", "num_nodes")
View(edgeEnds)
V(graph)
str(edgeEnds)
as.numeric(edgeEnds$from)[1:30]
as.numeric(edgeEnds$to)[1:30]
as.numeric(edgeEnds$to)
subset(as.numeric(edgeEnds$to), c(0))
as.numeric(edgeEnds$to)[==0]
edgeEnds[edgeEnds$]
edgeEnds[edgeEnds$to == 0]
edgeEnds[edgeEnds$to == 0,]
edgeEnds[edgeEnds$from !%in% edgeEnds$to,]
edgeEnds[edgeEnds$from %in% edgeEnds$to,]
edgeEnds[edgeEnds$from %in% c(edgeEnds$to),]
edgeEnds[edgeEnds$from !%in% c(edgeEnds$to),]
edgeEnds[edgeEnds$from !(%in% c(edgeEnds$to)),]
subset(edgeEnds, !(from %in% to))
zeroFollowers = subset(edgeEnds, !(from %in% to))
View(zeroFollowers)
nrow(zeroFollowers)
zeroFollowersDf = data.frame("num_follower" =0, "num_nodes" = nrow(zeroFollowers))
View(zeroFollowersDf)
followerDist = rbind(edgeEndsDistDf, zeroFollowersDf)
View(followerDist)
zeroFollowersDf = data.frame("num_follower" = 0, "num_nodes" = nrow(zeroFollowers))
View(zeroFollowers)
str(edgeEndsDistDf)
edgeEndsDistDf$num_follower = as.numeric(edgeEndsDistDf$num_follower)
followerDist = rbind(edgeEndsDistDf, zeroFollowersDf)
str(edgeEndsDistDf)
edgeEndsDistDf$num_follower = as.integer(edgeEndsDistDf$num_follower)
zeroFollowersDf = data.frame("num_follower" = 0, "num_nodes" = nrow(zeroFollowers))
followerDist = rbind(edgeEndsDistDf, zeroFollowersDf)
str(edgeEndsDistDf)
barplot(edgeEndsDistDf$num_nodes)
ggplot(edgeEndsDistDf, aes(x = num_follower, y = num_nodes))+geom_bar(stat="identity")
barplot(zeroFollowersDf$num_nodes)
ggplot(zeroFollowersDf, aes(x = num_follower, y = num_nodes))+geom_bar(stat="identity")
edgeEndsDist = table(table(edgeEnds$to))
edgeEndsDistDf = as.data.frame(edgeEndsDist)
names(edgeEndsDistDf) = c("num_follower", "num_nodes")
zeroFollowers = subset(edgeEnds, !(from %in% to))
zeroFollowersDf = data.frame("num_follower" = factor(c(0)), "num_nodes" = nrow(zeroFollowers))
followerDist = rbind(edgeEndsDistDf, zeroFollowersDf)
# Plot
barplot(zeroFollowersDf$num_nodes)
ggplot(zeroFollowersDf, aes(x = num_follower, y = num_nodes))+geom_bar(stat="identity")
barplot(edgeEndsDistDf$num_nodes)
barplot(followerDist$num_nodes)
ggplot(followerDist, aes(x = num_follower, y = num_nodes))+geom_bar(stat="identity")
followerDist = rbind(zeroFollowersDf, edgeEndsDistDf)
# Plot
barplot(followerDist$num_nodes)
ggplot(followerDist, aes(x = num_follower, y = num_nodes))+geom_bar(stat="identity")
edgeEndsDistDf$num_follower = as.integer(edgeEndsDistDf$num_follower)
zeroFollowersDf = data.frame("num_follower" = 0, "num_nodes" = nrow(zeroFollowers))
followerDist = rbind(zeroFollowersDf, edgeEndsDistDf)
# Plot
barplot(followerDist$num_nodes)
ggplot(followerDist, aes(x = num_follower, y = num_nodes))+geom_bar(stat="identity")
table(table(edgeEnds$to))
edgeEndsDist = table(table(edgeEnds$to))
edgeEndsDistDf = as.data.frame(edgeEndsDist)
edgeEndsDistDf = as.data.frame(edgeEndsDist)
names(edgeEndsDistDf) = c("num_follower", "num_nodes")
str(edgeEndsDistDf)
edgeEndsDistDf$num_follower = as.integer(edgeEndsDistDf$num_follower)
edgeEndsDistDf$num_follower = as.integer(as.character(edgeEndsDistDf$num_follower))
edgeEndsDistDf = as.data.frame(edgeEndsDist)
names(edgeEndsDistDf) = c("num_follower", "num_nodes")
# issue here
edgeEndsDistDf$num_follower = as.integer(as.character(edgeEndsDistDf$num_follower))
# Count user counts with 0 followers
zeroFollowers = subset(edgeEnds, !(from %in% to))
zeroFollowersDf = data.frame("num_follower" = 0, "num_nodes" = nrow(zeroFollowers))
followerDist = rbind(zeroFollowersDf, edgeEndsDistDf)
# Plot
barplot(followerDist$num_nodes)
ggplot(followerDist, aes(x = num_follower, y = num_nodes))+geom_bar(stat="identity")
View(zeroFollowersDf)
View(followerDist)
followerDist$log_num_follower = log(followerDist$num_follower+0.1)
followerDist$log_num_follower = followerDist$num_follower+0.1
followerDist[followerDist$num_follower == 0]
followerDist[followerDist$num_follower == 0,]
followerDist = rbind(zeroFollowersDf, edgeEndsDistDf)
followerDist[followerDist$num_follower == 0,]
followerDist[followerDist$num_follower == 0,1]
followerDist[followerDist$num_follower == 0,1] = 0.1
followerDist$log_num_follower = log(followerDist$num_follower+0.1)
ggplot(followerDist, aes(x = log_num_follower, y = num_nodes))+geom_bar(stat="identity")
g = read.graph("D:/Dropbox/MSBA/NetworkAnalytics/data/graph_subset.txt", format = "ncol", directed = TRUE)
tkplot(g, vertex.size = 5,
vertex.color="#5BA5F5",
vertex.label = NA,
vertex.frame.color= "black",
vertex.label.color = "white",
vertex.label.family = "sans",
layout = layout.kamada.kawai, canvas.width = 610, canvas.height = 610)
graph = read.graph("D:/Dropbox/MSBA/NetworkAnalytics/data/graph_complete.txt", format = "ncol", directed = TRUE)
# Count user with follower
edgeEnds = data.frame(ends(graph,E(graph)))
names(edgeEnds) = c("from", "to")
edgeEndsDist = table(table(edgeEnds$to))
edgeEndsDistDf = as.data.frame(edgeEndsDist)
names(edgeEndsDistDf) = c("num_follower", "num_nodes")
# issue here
edgeEndsDistDf$num_follower = as.integer(as.character(edgeEndsDistDf$num_follower))
# Count user counts with 0 followers
zeroFollowers = subset(edgeEnds, !(from %in% to))
zeroFollowersDf = data.frame("num_follower" = 0, "num_nodes" = nrow(zeroFollowers))
followerDist = rbind(zeroFollowersDf, edgeEndsDistDf)
# Plot distribution
barplot(followerDist$num_nodes)
ggplot(followerDist, aes(x = num_follower, y = num_nodes))+geom_bar(stat="identity")
barplot(height = followerDist$num_nodes)
barplot(height = followerDist$num_nodes)
barplot(height = followerDist$num_nodes,width = followerDist$num_follower)
ggplot(followerDist, aes(x = num_follower, y = num_nodes))+geom_bar(stat="identity")
# Log transform
followerDist[followerDist$num_follower == 0,1] = 0.1
followerDist$log_num_follower = log(followerDist$num_follower)
followerDist$log_num_nodes = log(followerDist$num_nodes)
# Plot log distribution
barplot(followerDist$num_nodes)
barplot(followerDist$log_num_nodes)
ggplot(followerDist, aes(x = log_num_follower, y = num_nodes))+geom_bar(stat="identity")
ggplot(followerDist, aes(x = log_num_follower, y = log_num_nodes))+geom_bar(stat="identity")
mtcars$gear
table(mtcars$gear)
barplot(table(mtcars$gear))
barplot(as.data.frame(table(mtcars$gear)))
barplot(edgeEndsDist)
edgeEndsDist = table(table(edgeEnds$to))
barplot(edgeEndsDist)
barplot(edgeEndsDist)
string (zeroFollowers)
str(zeroFollowers)
edgeEndsDist
edgeEndsDist[, 0 := 113]
edgeEndsDist[, 0 = 113]
edgeEndsDist$1
edgeEndsDist[1]
edgeEndsDist[0] = 113
edgeEndsDist
edgeEndsDist[1]
edgeEndsDist["1"]
edgeEndsDist["4020"]
edgeEndsDist["0"]
edgeEndsDist["0"] = 123
edgeEndsDist
barplot(edgeEndsDist)
zeroFollowers = subset(edgeEnds, !(from %in% to))
edgeEndsDist["0"] = nrow(zeroFollowers)
edgeEndsDist
barplot(edgeEndsDist)
barplot(edgeEndsDist)
edgeEndsDist = table(table(edgeEnds$to))
barplot(edgeEndsDist)
edgeEndsDist = table(table(edgeEnds$to))
barplot(edgeEndsDist)
barplot(edgeEndsDist)
edgeEndsDist["1"] = nrow(zeroFollowers)
barplot(edgeEndsDist)
edgeEnds = data.frame(ends(graph,E(graph)))
names(edgeEnds) = c("from", "to")
edgeEndsDist = table(table(edgeEnds$to))
barplot(edgeEndsDist)
edgeEndsDist
edgeEndsDistDf = as.data.frame(edgeEndsDist)
names(edgeEndsDistDf) = c("num_follower", "num_nodes")
edgeEndsDistDf$num_follower = as.integer(as.character(edgeEndsDistDf$num_follower))
# Count user counts with 0 followers
zeroFollowers = subset(edgeEnds, !(from %in% to))
zeroFollowersDf = data.frame("num_follower" = 0, "num_nodes" = nrow(zeroFollowers))
followerDist = rbind(zeroFollowersDf, edgeEndsDistDf)
# Plot distribution
barplot(height = followerDist$num_nodes)
ggplot(followerDist, aes(x = num_follower, y = num_nodes))+geom_bar(stat="identity")
# Log transform
followerDist[followerDist$num_follower == 0,1] = 0.1
followerDist$log_num_follower = log(followerDist$num_follower)
followerDist$log_num_nodes = log(followerDist$num_nodes)
# Plot log distribution
barplot(followerDist$log_num_nodes)
ggplot(followerDist, aes(x = log_num_follower, y = log_num_nodes))+geom_bar(stat="identity")
barplot(followerDist$log_num_nodes)
barplot(height = followerDist$num_nodes)
barplot(height = followerDist$num_nodes, width = followerDist$num_follower)
barplot(height = followerDist$log_num_nodes, width = followerDist$log_num_follower)
summary(followerDist$num_follower)
followerDist = rbind(zeroFollowersDf, edgeEndsDistDf)
summary(followerDist$num_follower)
table(edgeEnds$to)
df = data.frame(table(edgeEnds$to))
View(df)
names(df) = c("node_id", "followers")
ggplot(df, aes(x = followers))+geom_density()
library(igraph)
g<-graph.empty(n=10, directed=TRUE)
tkplot(g)
g<-graph.full(n=10, directed = FALSE, loops = FALSE)
tkplot(g)
g<-graph.star(n=10, mode="out")
tkplot(g)
g<-graph.star(n=10, mode="in")
tkplot(g)
g<-graph(edges, n=max(edges), directed=TRUE)
tkplot(g)
edges <- c(1,2, 3,2, 2,4)
g<-graph(edges, n=max(edges), directed=TRUE)
vcount(g)
tkplot(g)
tkplot(g)
edges <- c(1,2, 3,2, 2,4)
g<-graph(edges, n=max(edges), directed=TRUE)
vcount(g)
tkplot(g)
neighbors(g, V(g)[1], mode = 1)
neighbors(g, V(g)[1], mode = 1)
neighbors(g, V(g)[0], mode = 1)
neighbors(g, V(g)[3], mode = 1)
incident(g,V(g)[2], mode=c("all", "out", "in", "total"))
neighbors(g, V(g)[2], mode = 1)
neighbors(g, V(g)[1], mode = 1)
neighbors(g, V(g)[1], mode = 1)
neighbors(g, V(g)[2], mode = 1)
incident(g,V(g)[2], mode=c("all", "out", "in", "total"))
incident(g,V(g)[2], mode=c("out", "in", "total"))
incident(g,V(g)[2], mode=c("all", "out", "in", "total"))
incident(g,V(g)[2], mode=c("all", "out", "in"))
?incident
incident(g,V(g)[2], mode=c("aall", "out", "in", "total"))
incident(g,V(g)[2])
?neighbors
neighbors(g, V(g)[2], mode = 1)
neighbors(g, V(g)[2], mode = 2)
neighbors(g, V(g)[2], mode = c("in"))
neighbors(g, V(g)[2], mode = c("out"))
neighbors(g, V(g)[2], mode = c("total"))
neighbors(g, V(g)[2], mode = c("in"))
V(g)[2]
str(V(g)[2])
g <- make_graph("Zachary")
tkplot(g)
n1 <- neighbors(g, 1)
n34 <- neighbors(g, 34)
intersection(n1, n34)
tkplot(g, vertex.label.color = "white")
edges <- c(1,2, 3,2, 2,4)
g<-graph(edges, n=max(edges), directed=TRUE)
vcount(g)
tkplot(g, vertex.label.color = "white")
neighbors(g, V(g)[2], mode = c("in"))
neighbors(g, V(g)[2], mode = c("out"))
for (node in V(g)) {
print node.label
print  neighbors(g, node, mode = c("in"))
}
list.vertex.attributes(g)
V(g)[2].name
V(g)[2]$name
V(g)[2]$label
V(g)[2]$id
V(g)[2]
class(V(g)[2])
for (node in V(g)) {
print node
#print  neighbors(g, node, mode = c("in"))
}
print V(g)[2]
print str(V(g)[2])
print aaa
for (node in V(g)) {
print( node )
#print  neighbors(g, node, mode = c("in"))
}
for (node in V(g)) {
print( node )
print  neighbors(g, node, mode = c("in"))
}
for (node in V(g)) {
print( node )
print( neighbors(g, node, mode = c("in")))
}
for (node in V(g)) {
print( paste("The node is", node)  )
print( neighbors(g, node, mode = c("in")))
}
neighbors(g, V(g)[2], mode = c("in")
)
class(neighbors(g, V(g)[2], mode = c("in")))
class(neighbors(g, V(g)[1], mode = c("in")))
get.edgelist(g)
class(get.edgelist(g))
class(neighbors(g, V(g)[1], mode = c("in")))
neighbors(g, V(g)[1], mode = c("in"))
nrow(neighbors(g, V(g)[1], mode = c("in")))
length(neighbors(g, V(g)[1], mode = c("in")))
length(neighbors(g, V(g)[2], mode = c("in")))
for (node in V(g)) {
print( paste("The node is", node)  )
print( paste("The count of follower is", neighbors(g, node, mode = c("in")))  )
}
for (node in V(g)) {
print( paste("The node is", node)  )
print( paste("The count of follower is", length(neighbors(g, node, mode = c("in"))))  )
}
n = 0
for (node in V(graph)) {
if (length(neighbors(g, node, mode = c("in"))) ==0){
n = n+1
}
}
print n
n = 0
for (node in V(graph)) {
if (length(neighbors(graph, node, mode = c("in"))) ==0){
n = n+1
}
}
print n
print(n)
View(zeroFollowersDf)
nrow(edgeEnds)
73277 - 32516
View(edgeEnds)
edges <- c(1,2, 3,2, 2,4)
g<-graph(edges, n=max(edges), directed=TRUE)
vcount(g)
tkplot(g, vertex.label.color = "white")
leaves <- V(g)[degree(g, mode="out")==0]
leaves
leaves <- V(g)[degree(g, mode="in")==0]
leaves
leaves <- V(graph)[degree(graph, mode="in")==0]
print(leaves)
print(length(leaves))
zeroFollowers = V(graph)[degree(graph, mode="in")==0]
zeroFollowersDf = data.frame("num_follower" = 0, "num_nodes" = nrow(zeroFollowers))
zeroFollowersDf = data.frame("num_follower" = 0, "num_nodes" = length(zeroFollowers))
View(zeroFollowersDf)
